import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import { html, render } from 'lit-html'
import * as TableStories from './table.stories';

<Meta of={TableStories} />

# Table

Table is a set of styled wrapper elements that mimic the native HTML table elements.

## Guidelines

* [Astro UXDS: Table](https://www.astrouxds.com/patterns/table/)

export const Default = (args) => {
    const columnData = [
        { headerName: 'Current tag', field: 'currentTag' },
        { headerName: 'Original tag', field: 'originalTag' },
        { headerName: 'Sensor', field: 'sensor' },
        { headerName: 'ASTAT', field: 'astat' },
        { headerName: 'Obs time', field: 'obsTime' },
        { headerName: 'Ob type', field: 'obType' },
        { headerName: 'Az/Rt asc', field: 'azRtAsc' },
        { headerName: 'El/Dec', field: 'elDec' },
        { headerName: 'Range', field: 'range' },
        { headerName: 'Range rate', field: 'rangeRate' },
    ]
    const agColumnData = columnData.slice(0)
    agColumnData.shift()
    const agRowData = Array(24)
    for (let i = 0; i < agRowData.length; i++) {
        agRowData[i] = {
            selected: false,
            currentTag: 19999999,
            originalTag: '000011111',
            sensor: 450,
            astat: 'FULL',
            obsTime: '2020 158 01:23:45:678',
            obType: 'OBTYPE_5',
            azRtAsc: 150,
            elDec: 3500,
            range: 7500,
            rangeRate: 100,
        }
    }
    const rowData = agRowData.slice(0).map((item) => {
        item.control = true
        return item
    })
    return html`
<rux-table>
    <rux-table-header>
        <rux-table-header-row>
            ${columnData.map(
                (column) => html`
                    <rux-table-header-cell
                        >${column.headerName}</rux-table-header-cell
                    >
                `
            )}
        </rux-table-header-row>
    </rux-table-header>
    <rux-table-body>
        ${rowData.map(
            (row) => html`
                <rux-table-row selected="${row.selected}">
                    <rux-table-cell>${row.currentTag}</rux-table-cell>
                    <rux-table-cell>${row.originalTag}</rux-table-cell>
                    <rux-table-cell>${row.sensor}</rux-table-cell>
                    <rux-table-cell>${row.astat}</rux-table-cell>
                    <rux-table-cell>${row.obsTime}</rux-table-cell>
                    <rux-table-cell>${row.obType}</rux-table-cell>
                    <rux-table-cell>${row.azRtAsc}</rux-table-cell>
                    <rux-table-cell>${row.elDec}</rux-table-cell>
                    <rux-table-cell>${row.range}</rux-table-cell>
                    <rux-table-cell>${row.rangeRate}</rux-table-cell>
                </rux-table-row>
            `
        )}
    </rux-table-body>
</rux-table>
    `
}

<Canvas>
  <Story of={TableStories.Default_} />
</Canvas>

## API

<Controls />

## Usage

| Native HTML Element | Astro Component       |
| ------------------- | --------------------- |
| table               | rux-table             |
| thead               | rux-table-header      |
| tr (in thead)       | rux-table-header-row  |
| th                  | rux-table-header-cell |
| tbody               | rux-table-body        |
| tr (in tbody)       | rux-table-row         |
| td                  | rux-table-cell        |

## Limitations

Table uses [CSS Display Table](https://developer.mozilla.org/en-US/docs/Web/CSS/display) under the hood and as a result, there a few limitations.
For example, colspan and rowspan attributes are currently not supported.

For a more robust data table, consider using [AG Grid withe the Astro theme](?path=/docs/themes-ag-Grid--ag-Grid).

## Variants

### With Selected Row

export const WithSelectedRow = (args) => {
    const columnData = [
        { headerName: 'Current tag', field: 'currentTag' },
        { headerName: 'Original tag', field: 'originalTag' },
        { headerName: 'Sensor', field: 'sensor' },
        { headerName: 'ASTAT', field: 'astat' },
        { headerName: 'Obs time', field: 'obsTime' },
        { headerName: 'Ob type', field: 'obType' },
        { headerName: 'Az/Rt asc', field: 'azRtAsc' },
        { headerName: 'El/Dec', field: 'elDec' },
        { headerName: 'Range', field: 'range' },
        { headerName: 'Range rate', field: 'rangeRate' },
    ]
    const agColumnData = columnData.slice(0)
    agColumnData.shift()
    const agRowData = Array(24)
    for (let i = 0; i < agRowData.length; i++) {
        agRowData[i] = {
            selected: false,
            currentTag: 19999999,
            originalTag: '000011111',
            sensor: 450,
            astat: 'FULL',
            obsTime: '2020 158 01:23:45:678',
            obType: 'OBTYPE_5',
            azRtAsc: 150,
            elDec: 3500,
            range: 7500,
            rangeRate: 100,
        }
    }
    const rowData = agRowData.slice(0).map((item) => {
        item.control = true
        return item
    })
    return html`
<rux-table>
    <rux-table-header>
        <rux-table-header-row>
            <rux-table-header-cell>Current Tag</rux-table-header-cell>
            <rux-table-header-cell>Original Tag</rux-table-header-cell>
            <rux-table-header-cell>Sensor</rux-table-header-cell>
            <rux-table-header-cell>ASTAT</rux-table-header-cell>
            <rux-table-header-cell>Obs time</rux-table-header-cell>
            <rux-table-header-cell>Ob type</rux-table-header-cell>
            <rux-table-header-cell>Az/Rt asc</rux-table-header-cell>
            <rux-table-header-cell>El/Dec</rux-table-header-cell>
            <rux-table-header-cell>Range</rux-table-header-cell>
            <rux-table-header-cell>Range rate</rux-table-header-cell>
        </rux-table-header-row>
    </rux-table-header>
    <rux-table-body>
        <rux-table-row>
            <rux-table-cell>19999999</rux-table-cell>
            <rux-table-cell>000011111</rux-table-cell>
            <rux-table-cell>450</rux-table-cell>
            <rux-table-cell>Full</rux-table-cell>
            <rux-table-cell>2020 158 01:23:45:678</rux-table-cell>
            <rux-table-cell>OBTYPE_5</rux-table-cell>
            <rux-table-cell>150</rux-table-cell>
            <rux-table-cell>3500</rux-table-cell>
            <rux-table-cell>7500</rux-table-cell>
            <rux-table-cell>100</rux-table-cell>
        </rux-table-row>
        <rux-table-row selected>
            <rux-table-cell>19999999</rux-table-cell>
            <rux-table-cell>000011111</rux-table-cell>
            <rux-table-cell>450</rux-table-cell>
            <rux-table-cell>Full</rux-table-cell>
            <rux-table-cell>2020 158 01:23:45:678</rux-table-cell>
            <rux-table-cell>OBTYPE_5</rux-table-cell>
            <rux-table-cell>150</rux-table-cell>
            <rux-table-cell>3500</rux-table-cell>
            <rux-table-cell>7500</rux-table-cell>
            <rux-table-cell>100</rux-table-cell>
        </rux-table-row>
        <rux-table-row>
            <rux-table-cell>19999999</rux-table-cell>
            <rux-table-cell>000011111</rux-table-cell>
            <rux-table-cell>450</rux-table-cell>
            <rux-table-cell>Full</rux-table-cell>
            <rux-table-cell>2020 158 01:23:45:678</rux-table-cell>
            <rux-table-cell>OBTYPE_5</rux-table-cell>
            <rux-table-cell>150</rux-table-cell>
            <rux-table-cell>3500</rux-table-cell>
            <rux-table-cell>7500</rux-table-cell>
            <rux-table-cell>100</rux-table-cell>
        </rux-table-row>
    </rux-table-body>
</rux-table>
    `
}

<Canvas>
  <Story of={TableStories.WithSelectedRow_} />
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import { RuxTable } from '@astrouxds/astro-web-components/dist/components/rux-table'
import { RuxTableHeader } from '@astrouxds/astro-web-components/dist/components/rux-table-header'
import { RuxTableHeaderRow } from '@astrouxds/astro-web-components/dist/components/rux-table-header-row'
import { RuxTableHeaderCell } from '@astrouxds/astro-web-components/dist/components/rux-table-header-cell'
import { RuxTableBody } from '@astrouxds/astro-web-components/dist/components/rux-table-body'
import { RuxTableRow } from '@astrouxds/astro-web-components/dist/components/rux-table-row'
import { RuxTableCell } from '@astrouxds/astro-web-components/dist/components/rux-table-cell'

customElements.define('rux-table', RuxTable)
customElements.define('rux-table-header', RuxTableHeader)
customElements.define('rux-table-header-row', RuxTableHeaderRow)
customElements.define('rux-table-header-cell', RuxTableHeaderCell)
customElements.define('rux-table-body', RuxTableBody)
customElements.define('rux-table-row', RuxTableRow)
customElements.define('rux-table-cell', RuxTableCell)
```
