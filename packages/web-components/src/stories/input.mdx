import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import { html, render } from 'lit-html'
import * as InputStories from './input.stories';

<Meta of={InputStories} />

# Input

Input allow users to enter freeform text. Variations on this field often provide specific data entry formats such as masked data (e.g. passwords or phone numbers), date and time, and numeric data entry.

## Guidelines

* [Astro UXDS: Input Field](https://www.astrouxds.com/components/input-field/)

export const Default = (args) => {
    return html`
<rux-input
    label="${args.label}"
    .disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .value="${args.value}"
    .step="${args.step}"
    type=${args.type}
    ?readonly="${args.readonly}"
    autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
    size="${args.size}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.Default_} />
</Canvas>

## API

<Controls />

## Variants

### Disabled

export const Disabled = (args) => {
    return html`
<rux-input
    label="${args.label}"
    ?disabled="${args.disabled}"
    .error-text="${args.errorText}"
    ?invalid="${args.invalid}"
    .help-text="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .value="${args.value}"
    .step="${args.step}"
    type=${args.type}
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
    size="${args.size}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.Disabled_} />
</Canvas>

### Required

export const Required = (args) => {
    return html`
<rux-input
    label="${args.label}"
    ?disabled="${args.disabled}"
    .error-text="${args.errorText}"
    ?invalid="${args.invalid}"
    .help-text="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .value="${args.value}"
    .step="${args.step}"
    type=${args.type}
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.Required_} />
</Canvas>

### With Icons

Icons on either the left or right can be accomplished using the named slots `prefix` or `suffix`.
For example,

```html
<rux-icon icon="apps" slot="prefix"></rux-icon>
```

export const WithIcons = (args) => {
    return html`
<rux-input
    label="With Prefix"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .size="${args.size}"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
>
    <rux-icon slot="prefix" icon="border-clear" size="extra-small"></rux-icon>
</rux-input>
<br />
<rux-input
    label="With Suffix"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .size="${args.size}"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
>
    <rux-icon slot="suffix" icon="border-clear" size="extra-small"></rux-icon>
</rux-input>
<br />
<rux-input
    label="With Prefix and Suffix"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .size="${args.size}"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
>
    <rux-icon slot="prefix" icon="border-clear" size="extra-small"></rux-icon>
    <rux-icon slot="suffix" icon="border-clear" size="extra-small"></rux-icon>
</rux-input>
    `
}

<Canvas>
  <Story of={InputStories.WithIcons_} />
</Canvas>

### Sizes

export const Sizes = (args) => {
    return html`
<rux-input
    label="Small input"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    size="small"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
></rux-input>
<br />
<rux-input
    label="Medium input"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    size="medium"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
></rux-input>
<br />
<rux-input
    label="Large input"
    ?disabled="${args.disabled}"
    .errorText="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    size="large"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.Sizes_} />
</Canvas>

### Help Text

export const HelpText = (args) => {
    return html`
<rux-input
    label="${args.label}"
    ?disabled="${args.disabled}"
    .error-text="${args.errorText}"
    ?invalid="${args.invalid}"
    help-text="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
    size="${args.size}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.HelpText_} />
</Canvas>

### Invalid w/ Error Text

export const Invalid = (args) => {
    return html`
<rux-input
    label="${args.label}"
    .disabled="${args.disabled}"
    error-text="${args.errorText}"
    ?invalid="${args.invalid}"
    .helpText="${args.helpText}"
    .min="${args.min}"
    .max="${args.max}"
    .name="${args.name}"
    .placeholder="${args.placeholder}"
    ?required="${args.required}"
    .value="${args.value}"
    type=${args.type}
    .step="${args.step}"
    ?readonly="${args.readonly}"
    ?autocomplete="${args.autocomplete}"
    ?spellcheck="${args.spellcheck}"
    size="${args.size}"
></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.Invalid_} />
</Canvas>

### Types

The following `<input>` types are available:

* Text inputs (type="text")
* Password inputs (type="password")
* URL inputs (type="url")
* Email inputs (type="email")
* Telephone inputs (type="tel")
* Search inputs (type="search")
* Number-only inputs (type="number")
* Date inputs (type="date")
* Datetime-local inputs (type="datetime-local")
* Time inputs (type="time")

export const Types = (args) => {
    return html`
        <style>
            .grid {
                display: grid;
                grid-template-columns: repeat(3, minmax(0, 1fr));
                gap: 2rem;
            }
        </style>
        <div class="grid">
            <rux-input
                label="Text Input"
                type="text"
                placeholder="Text input"
            ></rux-input>
            <rux-input
                label="Number Input"
                type="number"
                placeholder="1"
            ></rux-input>
            <rux-input
                label="Phone Input"
                type="tel"
                placeholder="(999) 999-9999"
            ></rux-input>
            <rux-input
                label="Password Input"
                type="password"
                placeholder="Reindeer Flotilla"
            ></rux-input>
            <rux-input
                label="Web address"
                type="url"
                placeholder="http://example.com"
            ></rux-input>
            <rux-input
                label="Email"
                type="email"
                placeholder="user@example.com"
            ></rux-input>
            <rux-input
                label="Search"
                type="search"
                placeholder="Enter search term"
            ></rux-input>
            <rux-input
                label="Date"
                type="date"
            ></rux-input>
            <rux-input
                label="Datetime-local"
                type="datetime-local"
            ></rux-input>
            <rux-input label="Time" type="time"></rux-input>
        </div>
    `
}

<Canvas>
  <Story of={InputStories.Types_} />
</Canvas>

## Customization

### Custom Input Mask

If you need a custom input type for your rux-input, we recommend using [Maskito](https://maskito.dev/getting-started/what-is-maskito) to create your own input mask.
Below is an example of the common use case of a Julian/Ordinal date input.

export const VanillaMask = () => {
    return html`
<iframe src="https://codesandbox.io/embed/rux-julian-input-mask-6gt7g8?fontsize=14&hidenavigation=1&theme=dark"
     style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
     title="rux-julian-input-mask"
     allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
     sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
   ></iframe>`
}

<Canvas>
  <Story of={InputStories.JulianMask} />
</Canvas>

### Horizontal Labels

You can utilize the `form-field` and `label` Shadow Parts to have full control over label placement. For example:

```css
rux-input::part(form-field) {
    flex-direction: row;
    align-items: center;
}
rux-input::part(label) {
    margin-right: var(--spacing-2);
}
```

export const HorizontalLabel = (args) => {
    return html`
        <style>
            #left-example::part(form-field) {
                flex-direction: row;
                align-items: center;
            }
            #left-example::part(label) {
                margin-right: var(--spacing-2);
                margin-bottom: 0;
            }
        </style>
        <rux-input
            id="left-example"
            label="${args.label}"
            .disabled="${args.disabled}"
            error-text="${args.errorText}"
            ?invalid="${args.invalid}"
            .helpText="${args.helpText}"
            .min="${args.min}"
            .max="${args.max}"
            .name="${args.name}"
            .placeholder="${args.placeholder}"
            ?required="${args.required}"
            .value="${args.value}"
            type=${args.type}
            .step="${args.step}"
            ?readonly="${args.readonly}"
            ?autocomplete="${args.autocomplete}"
            ?spellcheck="${args.spellcheck}"
            size="${args.size}"
        ></rux-input>
    `
}

<Canvas>
  <Story of={InputStories.HorizontalLabel_} />
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import { RuxInput } from '@astrouxds/astro-web-components/dist/components/rux-input.js'
customElements.define('rux-input', RuxInput)
```
