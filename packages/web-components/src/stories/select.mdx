import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import { html, render } from 'lit-html'
import * as SelectStories from './select.stories';

<Meta of={SelectStories} />

# Select Menu

Select Menus allow users to select a value from a list of values.

## Guidelines

* [Astro UXDS: Select Menu](https://astrouxds.com/components/select/)
* [Astro UXDS: Form and Input Validation](https://www.astrouxds.com/ui-components/validation)

export const Default = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .errorText="${args.errorText}"
        .helpText="${args.helpText}"
        name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" disabled label="Option 1.4 (disabled)"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.SelectMenu} />
</Canvas>

## API

<Controls />

## Usage

> Select **requires** the use of the `<rux-option>` component instead of the native `<option>`. Make sure to set the label using the `label` property instead of a slot like you would with the native `<option>`

### Selecting Options

The `value` property will sync the currently selected option value property

### Grouping

For Grouping, make sure to use the Astro `<rux-option-group>` component instead of the native `<optgroup>`.

## Variants

### Sizes

export const Sizes = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
<rux-select size="small" label="Small">
        <rux-option label="Select an option" value=""></rux-option>
        <rux-option label="Red" value="red"></rux-option>
        <rux-option value="Blue" label="Blue"></rux-option>
        <rux-option value="Green" label="Green"></rux-option>
    </rux-select>
    <br />
    <rux-select size="medium" label="Medium">
        <rux-option label="Select an option" value=""></rux-option>
        <rux-option label="Red" value="red"></rux-option>
        <rux-option value="Blue" label="Blue"></rux-option>
        <rux-option value="Green" label="Green"></rux-option>
    </rux-select>
    <br />
    <rux-select size="large" label="Large">
        <rux-option label="Select an option" value=""></rux-option>
        <rux-option label="Red" value="red"></rux-option>
        <rux-option value="Blue" label="Blue"></rux-option>
        <rux-option value="Green" label="Green"></rux-option>
    </rux-select>
    `
}

<Canvas>
  <Story of={SelectStories.Sizes_} />
</Canvas>

### With Option Groups

export const WithOptionGroups = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .errorText="${args.errorText}"
        .helpText="${args.helpText}"
        name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            label="Select an option"
            selected
        ></rux-option>
        <rux-option-group label="Group one">
            <rux-option value="1.1" label="Option 1.1"></rux-option>
            <rux-option value="1.2" label="Option 1.2"></rux-option>
            <rux-option value="1.3" label="Option 1.3"></rux-option>
            <rux-option value="1.4" label="Option 1.4"></rux-option>
        </rux-option-group>
        <rux-option-group label="Group two">
            <rux-option value="2.1" label="Option 2.1"></rux-option>
            <rux-option value="2.2" label="Option 2.2"></rux-option>
            <rux-option value="2.3" label="Option 2.3"></rux-option>
            <rux-option value="2.4" disabled label="Option 2.4 (disabled)"></rux-option>
        </rux-option-group>
        <rux-option value="3.1" label="Option 3.1"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.WithOptionGroups_} />
</Canvas>

### Disabled

export const Disabled = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .errorText="${args.errorText}"
        .helpText="${args.helpText}"
        .name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.Disabled_} />
</Canvas>

### Invalid

export const Invalid = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .errorText="${args.errorText}"
        .helpText="${args.helpText}"
        .name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.Invalid_} />
</Canvas>

### Required

export const Required = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .errorText="${args.errorText}"
        .helpText="${args.helpText}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.Required_} />
</Canvas>

### With Help Text

export const WithHelpText = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .error-text="${args.errorText}"
        help-text="${args.helpText}"
        name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.WithHelpText_} />
</Canvas>

### With Error Text

export const WithErrorText = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        error-text="${args.errorText}"
        help-text="${args.helpText}"
        name="${args.name}"
        size="${args.size}"
        ?multiple="${args.multiple}"
    >
        <rux-option
            value=""
            selected
            label="Select an option"
        ></rux-option>
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.WithErrorText_} />
</Canvas>

### Multiple

> NOTE: This component uses the native browser `<select>` element under the hood.
> As a result, styling may appear inconsistent across different browsers.

export const Multiple = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .error-text="${args.errorText}"
        help-text="${args.helpText}"
        ?multiple="${args.multiple}"
        size="${args.size}"
    >
        <rux-option value="1.1" label="Option 1.1"></rux-option>
        <rux-option value="1.2" label="Option 1.2"></rux-option>
        <rux-option value="1.3" label="Option 1.3"></rux-option>
        <rux-option value="1.4" label="Option 1.4"></rux-option>
        <rux-option value="1.5" disabled label="Option 1.5 (disabled)"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.Multiple_} />
</Canvas>

### Multiple With Option Groups

export const MultipleWithOptionGroups = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?disabled="${args.disabled}"
        ?required="${args.required}"
        ?invalid="${args.invalid}"
        label="${args.label}"
        input-id="${args.inputId}"
        label-id="${args.labelId}"
        .error-text="${args.errorText}"
        help-text="${args.helpText}"
        ?multiple="${args.multiple}"
        size="${args.size}"
    >
        <rux-option value="" label="Select Option"></rux-option>
        <rux-option-group label="Option 1">
            <rux-option value="1.1" label="Option 1.1"></rux-option>
            <rux-option value="1.2" label="Option 1.2"></rux-option>
            <rux-option value="1.3" label="Option 1.3"></rux-option>
            <rux-option value="1.4" label="Option 1.4"></rux-option>
            <rux-option value="1.5" label="Option 1.5"></rux-option>
        </rux-option-group>
        <rux-option-group label="Option 2">
            <rux-option value="2.1" label="Option 2.1"></rux-option>
            <rux-option value="2.2" label="Option 2.2"></rux-option>
            <rux-option value="2.3" label="Option 2.3"></rux-option>
            <rux-option value="2.4" label="Option 2.4"></rux-option>
            <rux-option value="2.5" disabled label="Option 2.5 (disabled)"></rux-option>
        </rux-option-group> 
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.MultipleWithOptionGroups_} />
</Canvas>

### Inline

export const Inline = (args) => {
    return html`
<div style="width: 200px; margin: 0 auto;">
    <rux-select
        ?inline="${args.inline}"
    >
        <rux-option value="" label="Select Option"></rux-option>
            <rux-option value="2.1" label="Option 2.1"></rux-option>
            <rux-option value="2.2" label="Option 2.2"></rux-option>
            <rux-option value="2.3" label="Option 2.3"></rux-option>
            <rux-option value="2.4" label="Option 2.4"></rux-option>
            <rux-option value="2.5" disabled label="Option 2.5 (disabled)"></rux-option>
    </rux-select>
</div>
    `
}

<Canvas>
  <Story of={SelectStories.Inline_} />
</Canvas>

### Adjusting the width

By default, Select's width is set to 100%. If you'd prefer to have it automatic based on the longest option, you can make use of the `select` part.

```
rux-select::part(select) {
    width: inherit;
}
```

> NOTE: This will become the default behavior in a future release.

export const WidthExample = (args) => {
    return html`
    <style>
        rux-select::part(select) {
            width: inherit;
        }
    </style>
    <rux-select>
        <rux-option value="" label="Select Option"></rux-option>
            <rux-option value="2.1" label="Option 2.1"></rux-option>
            <rux-option value="2.2" label="Option 2.2.2.2.2"></rux-option>
            <rux-option value="2.3" label="Option 2.3"></rux-option>
            <rux-option value="2.4" label="Option 2.4"></rux-option>
    </rux-select>
    `
}

<Canvas>
  <Story of={SelectStories.Width} />
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import { RuxSelect } from '@astrouxds/astro-web-components/dist/components/rux-select'
import { RuxOption } from '@astrouxds/astro-web-components/dist/components/rux-option'

customElements.define('rux-select', RuxSelect)
customElements.define('rux-option', RuxOption)

// Optional
//import { RuxOptionGroup } from '@astrouxds/astro-web-components/rux-option-group'
//customElements.define('rux-option-group', RuxOptionGroup)
```
